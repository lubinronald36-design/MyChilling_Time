<script>
  const beat = document.getElementById("beat");
  const keySound = document.getElementById("keySound");

  const startBtn = document.getElementById("startBtn");
  const stopBtn  = document.getElementById("stopBtn");
  const statusEl = document.getElementById("status");

  function setStatus(on){
    statusEl.textContent = on ? "Beat: ON" : "Beat: OFF";
    statusEl.className = "small " + (on ? "ok" : "bad");
    startBtn.disabled = on;
    stopBtn.disabled = !on;
  }

  // ðŸ”‘ AUDIO UNLOCK (critical for mobile)
  function unlockAudio() {
    beat.muted = true;
    beat.play().then(() => {
      beat.pause();
      beat.currentTime = 0;
      beat.muted = false;
    }).catch(()=>{});
  }

  startBtn.addEventListener("click", async () => {
    unlockAudio(); // ðŸ”¥ unlock first
    try {
      beat.currentTime = 0;
      await beat.play();
      setStatus(true);
    } catch (e) {
      alert("Audio blocked by browser. Tap Start Beat again.");
      console.log(e);
    }
  });

  stopBtn.addEventListener("click", () => {
    beat.pause();
    beat.currentTime = 0;
    setStatus(false);
  });

  function playKey(){
    const s = keySound.cloneNode(true);
    s.play().catch(()=>{});
  }

  const allowedKeys = new Set(["a","s","d","f","j","k"]);

  window.addEventListener("keydown", (e) => {
    if (allowedKeys.has(e.key.toLowerCase())) {
      playKey();
    }
  });

  setStatus(false);
</script>

On Sat, Dec 27, 2025, 12:28â€¯PM Ronald Lubin <lubinronald36@gmail.com> wrote:
Gooo
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>MyChillingTime â€” Interactive Notes</title>
  <style>
    body{font-family:system-ui,Arial,sans-serif;max-width:820px;margin:28px auto;padding:0 16px;line-height:1.45}
    h1{margin:0 0 6px}
    .box{padding:14px 16px;border:1px solid #ddd;border-radius:12px;margin:12px 0}
    button{padding:10px 14px;border-radius:10px;border:1px solid #111;background:#111;color:#fff;cursor:pointer}
    button:disabled{opacity:.5;cursor:not-allowed}
    kbd{padding:2px 6px;border:1px solid #ccc;border-radius:6px;background:#f7f7f7}
    .row{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
    .small{color:#555;font-size:14px}
    .ok{color:#0a7a2f;font-weight:600}
    .bad{color:#b00020;font-weight:600}
    .keys{display:grid;grid-template-columns:repeat(6,1fr);gap:10px}
    .key{padding:12px;border:1px solid #ddd;border-radius:12px;text-align:center;background:#fff}
    .hint{margin-top:6px;font-size:13px;color:#666}
    .bar{height:8px;background:#eee;border-radius:999px;overflow:hidden}
    .fill{height:100%;width:0%}
  </style>
</head>
<body>

  <h1>MyChillingTime ðŸŽµ</h1>
  <div class="small">Press keys to play notes over a looping beat.</div>

  <div class="box">
    <div class="row">
      <button id="startBtn">Start Beat</button>
      <button id="stopBtn" disabled>Stop Beat</button>
      <span id="status" class="small bad">Beat: OFF</span>
    </div>
    <div class="hint">
      If audio doesnâ€™t play, click <b>Start Beat</b> once (browser requires a user tap).
    </div>
  </div>

  <div class="box">
    <div class="small"><b>Keyboard Keys:</b> <kbd>A</kbd> <kbd>S</kbd> <kbd>D</kbd> <kbd>F</kbd> <kbd>J</kbd> <kbd>K</kbd></div>
    <div class="keys" style="margin-top:10px">
      <div class="key"><b>A</b><div class="hint">Note 1</div></div>
      <div class="key"><b>S</b><div class="hint">Note 2</div></div>
      <div class="key"><b>D</b><div class="hint">Note 3</div></div>
      <div class="key"><b>F</b><div class="hint">Note 4</div></div>
      <div class="key"><b>J</b><div class="hint">Note 5</div></div>
      <div class="key"><b>K</b><div class="hint">Note 6</div></div>
    </div>
  </div>

  <!-- AUDIO FILES -->
  <!-- IMPORTANT: beat is now beat1.mp3 -->
  <audio id="beat" src="beat1.mp3" loop preload="auto"></audio>
  <audio id="keySound" src="key.wav" preload="auto"></audio>

  <script>
    const beat = document.getElementById("beat");
    const keySound = document.getElementById("keySound");

    const startBtn = document.getElementById("startBtn");
    const stopBtn  = document.getElementById("stopBtn");
    const statusEl = document.getElementById("status");

    function setStatus(on){
      statusEl.textContent = on ? "Beat: ON" : "Beat: OFF";
      statusEl.className = "small " + (on ? "ok" : "bad");
      startBtn.disabled = on;
      stopBtn.disabled = !on;
    }

    // Some browsers block autoplay until user clicks.
    startBtn.addEventListener("click", async () => {
      try{
        beat.currentTime = 0;
        await beat.play();
        setStatus(true);
      }catch(e){
        alert("Audio blocked. Try clicking Start Beat again, or check your file names are correct.");
        console.log(e);
      }
    });

    stopBtn.addEventListener("click", () => {
      beat.pause();
      beat.currentTime = 0;
      setStatus(false);
    });

    // Play key sound (clones allow fast repeated hits)
    function playKey(){
      try{
        const s = keySound.cloneNode(true);
        s.volume = 1.0;
        s.play();
      }catch(e){
        console.log(e);
      }
    }

    const allowedKeys = new Set(["a","s","d","f","j","k"]);

    window.addEventListener("keydown", (e) => {
      const k = e.key.toLowerCase();
      if(!allowedKeys.has(k)) return;
      playKey();
    });

    // Initial
    setStatus(false);
  </script>

</body>
</html>

On Sat, Dec 27, 2025, 12:20â€¯PM Ronald Lubin <lubinronald36@gmail.com> wrote:
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>MyChillingTime â€” Interactive Notes</title>
  <style>
    body{font-family:system-ui,Arial,sans-serif;max-width:820px;margin:28px auto;padding:0 16px;line-height:1.45}
    h1{margin:0 0 6px}
    .box{padding:14px 16px;border:1px solid #ddd;border-radius:12px;margin:12px 0}
    button{padding:10px 14px;border-radius:10px;border:1px solid #111;background:#111;color:#fff;cursor:pointer}
    kbd{padding:2px 6px;border:1px solid #bbb;border-radius:6px;background:#f7f7f7}
    .keys{display:flex;flex-wrap:wrap;gap:8px;margin-top:10px}
    .chip{padding:8px 10px;border:1px solid #ddd;border-radius:999px}
    .small{color:#555;font-size:14px}
    .ok{color:#0a7a2f;font-weight:600}
    .bad{color:#b00020;font-weight:600}
  </style>
</head>

<body>
  <h1>MyChillingTime ðŸŽ§ðŸŽ¹</h1>
  <div class="small">Beat1 + real musical notes (Doâ€“Reâ€“Miâ€¦ generated live)</div>

  <div class="box">
    <button id="startBtn">Start Beat (unlock audio)</button>
    <div id="status" class="small" style="margin-top:10px;">Status: not started</div>
  </div>

  <div class="box">
    <div><b>Play notes while the beat1 loops:</b></div>
    <div class="keys">
      <div class="chip"><kbd>A</kbd> = Do</div>
      <div class="chip"><kbd>S</kbd> = Re</div>
      <div class="chip"><kbd>D</kbd> = Mi</div>
      <div class="chip"><kbd>F</kbd> = Fa</div>
      <div class="chip"><kbd>G</kbd> = Sol</div>
      <div class="chip"><kbd>H</kbd> = La</div>
      <div class="chip"><kbd>J</kbd> = Si</div>
      <div class="chip"><kbd>K</kbd> = Do</div>
    </div>
    <p class="small" style="margin-top:10px;">
      Tip: Click <b>Start Beat</b> once, then press keys freely.
    </p>
  </div>

  <!-- Beat1: keep beat1.mp3 in SAME folder as this index.html -->
  <audio id="beat1" loop preload="auto">
    <source src="beat1.mp3" type="audio/mpeg">
  </audio>


<script>
const beat = document.getElementById("beat");
const statusEl = document.getElementById("status");
const startBtn = document.getElementById("startBtn");

// Web Audio Notes
let audioCtx = null;
const active = new Map();

// C major scale
const keyToFreq = {
  a: 261.63, // C
  s: 293.66, // D
  d: 329.63, // E
  f: 349.23, // F
  g: 392.0,  // G
  h: 440.0,  // A
  j: 493.88, // B
  k: 523.25  // C
};

function ensureAudio() {
  if (!audioCtx) {
    audioCtx = new (window.AudioContext || window.webkitAudioContext)();
  }
  return audioCtx.resume();
}

function noteOn(key) {
  const k = key.toLowerCase();
  const freq = keyToFreq[k];
  if (!freq || active.has(k)) return;

  const osc = audioCtx.createOscillator();
  const gain = audioCtx.createGain();

  osc.type = "triangle";
  osc.frequency.value = freq;

  const now = audioCtx.currentTime;
  gain.gain.setValueAtTime(0, now);
  gain.gain.linearRampToValueAtTime(0.25, now + 0.01);

  osc.connect(gain);
  gain.connect(audioCtx.destination);

  osc.start();
  active.set(k, { osc, gain });
}

function noteOff(key) {
  const k = key.toLowerCase();
  const node = active.get(k);
  if (!node) return;

  const { osc, gain } = node;
  const now = audioCtx.currentTime;

  gain.gain.cancelScheduledValues(now);
  gain.gain.linearRampToValueAtTime(0, now + 0.04);
  osc.stop(now + 0.05);

  active.delete(k);
}

window.addEventListener("keydown", (e) => {
  if (!audioCtx || e.repeat) return;
  noteOn(e.key);
});

window.addEventListener("keyup", (e) => {
  if (!audioCtx) return;
  noteOff(e.key);
});

startBtn.addEventListener("click", async () => {
  try {
    await ensureAudio();

    beat1.load();        // ðŸ”‘ important
    beat1.volume = 0.6;
    await beat1.play();  // must be inside click

    statusEl.innerHTML =
      'Status: <span class="ok">beat playing âœ… (keys ready)</span>';
  } catch (err) {
    console.error(err);
    statusEl.innerHTML =
      'Status: <span class="bad">error</span> â€” audio blocked';
  }
});
</script>
</body>
</html>
